# AI Lens Helper - 빠른 시작 가이드

## 🚀 3단계로 시작하기

### 1️⃣ GUI 실행

```bash
cd /Users/coton/Workspace/ai-lens-helper
./run_gui.sh
```

또는

```bash
python3 gui_app.py
```

**참고:** OpenMP 관련 경고는 무시하셔도 됩니다 (정상 동작).

---

### 2️⃣ 인덱스 빌드 (학습)

GUI가 열리면:

1. **Tab 1 (인덱스 빌드)** 선택
2. 설정 확인:
   - 데이터 루트: `./data`
   - 장소: `경복궁`
   - 저장 경로: `./indexes/경복궁_clip`
   - Device: `cpu`
   - YOLO 모델: `yolov8n.pt`
3. **"🚀 인덱스 빌드 시작"** 버튼 클릭
4. 로그 창에서 진행 상황 확인
5. 완료될 때까지 대기 (수십 분 소요 가능)

**결과:**
- `./indexes/경복궁_clip.json` - 메타데이터
- `./indexes/경복궁_clip.faiss` - 검색 인덱스

---

### 3️⃣ Inference 테스트

인덱스 빌드가 완료되면:

1. **Tab 2 (Inference)** 선택

2. **모델 로드:**
   - 인덱스 파일: `./indexes/경복궁_clip.json`
   - "모델 로드" 버튼 클릭
   - 상태가 "✓ 모델 로드 완료"로 변경되는지 확인

3. **이미지 선택:**
   - "📷 이미지 선택" 버튼 클릭
   - 테스트 이미지 선택 (예: `./data/경복궁/근정전/016.jpg`)
   - 이미지가 미리보기에 표시됨

4. **설정 확인:**
   - Place: `경복궁`
   - Top-K: `5`
   - Threshold: `0.7`

5. **Inference 실행:**
   - "🔍 Inference 실행" 버튼 클릭
   - 결과 확인

**예상 결과:**
```
📋 결정: ACCEPT
🎯 선택된 전시품: 근정전
📊 신뢰도: 0.8542

🏆 Top-5 예측:
  ✓ 1. 근정전: 0.8542
    2. 경회루: 0.7821
    3. 광화문: 0.7234
    ...
```

---

## 💡 팁

### 좋은 결과를 얻으려면:

**학습 데이터:**
- 전시품당 최소 10장 이상
- 다양한 각도와 거리에서 촬영
- 다양한 조명 조건

**테스트 이미지:**
- 전시품이 프레임 중앙에 위치
- 흔들림 최소화
- 반사/글레어 피하기
- 적절한 거리 유지

### Threshold 조정:

- **높게 (0.8~0.9)**: 매우 확실한 경우만 Accept (엄격)
- **중간 (0.7)**: 권장값 (균형)
- **낮게 (0.6~0.65)**: 더 많이 Accept (관대)

### 성능 향상:

- **GPU 사용**: Device를 `cuda`로 변경 (NVIDIA GPU 필요)
- **더 큰 YOLO**: `yolov8m.pt` 또는 `yolov8l.pt` 사용
- **더 많은 데이터**: 전시품당 20~30장 수집

---

## 🐛 문제 해결

### GUI가 안 열려요
```bash
# OpenMP 환경 변수 설정 후 재실행
export KMP_DUPLICATE_LIB_OK=TRUE
python3 gui_app.py
```

### 인덱스 빌드가 너무 느려요
- Device를 `cuda`로 변경 (GPU)
- 더 작은 YOLO 모델 사용 (`yolov8n.pt`)
- 이미지 개수 줄이기

### "모델을 찾을 수 없습니다"
- 인덱스 파일 경로 확인
- `.json`과 `.faiss` 파일이 같은 디렉토리에 있는지 확인

### "Place mismatch" 오류
- Tab 2의 Place가 인덱스 빌드 시 사용한 Place와 일치하는지 확인

### Inference 결과가 부정확해요
- Threshold를 낮춰보기 (0.6~0.65)
- 더 많은 학습 데이터로 인덱스 재빌드
- 더 큰 YOLO 모델 사용

---

## 📖 더 자세한 정보

- **GUI 사용 가이드**: [GUI_USAGE.md](./GUI_USAGE.md)
- **전체 문서**: [README.md](./README.md)
- **프로젝트 구조**: [CLAUDE.md](./CLAUDE.md)

---

## 🎯 다음 단계

1. ✅ 경복궁 데이터로 인덱스 빌드 완료
2. ✅ 테스트 이미지로 inference 성공
3. 📸 새로운 장소 데이터 수집
4. 🏗️ 새로운 장소 인덱스 빌드
5. 🚀 프로덕션 배포

---

**준비 완료!** GUI가 실행 중입니다 (PID: 95384)

이제 Tab 1에서 인덱스를 빌드하고, Tab 2에서 테스트해보세요! 🎉
